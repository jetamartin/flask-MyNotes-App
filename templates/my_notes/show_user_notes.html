{% extends 'base.html' %}

{% block title %}{{user.full_name}} {% endblock %}
{% block content %}
<div class="row">
  <div class="col-12">
    <h1>All Notes</h1>
    <hr>
    <div>
      {% for my_note in user.my_notes %}

      <div class="card w-75 mb-3 bg-light">
        <div class="card-body">
          <h5 class="card-title">{{ my_note.title }}</h5>
          <p class="card-text"><small>{{my_note.content}}</small></p>
          <form>
            {{form.hidden_tag()}}
            <div class="my-2 d-inline-block">
              <button class="btn btn-primary btn-sm mr-2"
              formmethod = "GET"
              formaction="/my_notes/{{ my_note.id }}/update">
              Edit
              </button>
            </div>
            <div class="my-2 d-inline-block">
              <button class="btn btn-danger btn-sm"
                formmethod="POST"
                formaction="/my_notes/{{ my_note.id }}/delete">
              Delete
              </button>
            </div>
          </form>
      </div>
    </div>
    {% endfor %}


    <div>
      <a href="/users/{{ user.username }}/my_notes/new" class="btn btn-primary my-3 ">
        Add note
      </a>
    </div>
    <hr> 
    <form >
      <button class="btn btn-danger mt-4"
              formmethod="POST"
              formaction="/users/{{ user.username }}/delete">
        Delete user
      </button>
    </form>
    <hr class='mt-4'>
  </div>
</div>

{% endblock %}